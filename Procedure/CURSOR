CREATE DEFINER=`root`@`localhost` PROCEDURE `Cursor_teste`()
BEGIN
DECLARE fim BOOLEAN DEFAULT 0;

-- DECLARAR TODAS VARIAVEIS QUE QUERO PUXAR DO SELECT
DECLARE vAmigo VARCHAR(50);

--COLOCAR DENTRO DO SELECT TODAS AS COLUNAS QUE QUEREMOS ADD NO CURSOR
DECLARE v CURSOR FOR SELECT Amigos FROM TESTES_CURSOR;


/* CASO OCORRA ERRO DO TIPO NOT FOUND (QUANDO ACABA OS DADOS DA LISTA E O CURSOR CONTINUA TENTANDO PEGAR
DEFINIRA A FLAG BOOLEANA "fim" COMO 1 QUE SAIRÁ DO LAÇO)*/

DECLARE CONTINUE HANDLER FOR NOT FOUND SET fim = 1;
OPEN v;

WHILE fim = 0
DO
	FETCH v INTO vAmigo;
    IF fim = 0 THEN
    		-- EM CASO DE VARIAS COLUNAS, USAR O MODELO: 'SELECT CONCAT(valor1, ' ', valor2, ',' valor3, '...')
		SELECT v;
	END IF;
END WHILE;

END
